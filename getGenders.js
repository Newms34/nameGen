String.prototype.capCase = function () {
    return this.slice(0, 1).toUpperCase() + this.slice(1).toLowerCase();
}

const rawNames = ["Aberthol", "Adda", "Aeron", "Afan", "Aidan", "Alan", "Aled", "Alun", "Alwyn", "Amhar", "Amlawdd", "Amlodd", "Amren", "Amynedd", "Andreas", "Aneirin", "Aneurin", "Anwas", "Anwill", "Anwir", "Anwyl", "Anyon", "Ap", "Arawn", "Arfon", "Arnall", "Aron", "Arthur", "Arthwr", "Artur", "Arwel", "Arwyn", "Awstin", "Badan", "Baddon", "Baeddan", "Baglen", "Barri", "Bedo", "Bedwyr", "Bedyw", "Beinon", "BeliMawr", "Berian", "Berwyn", "Bevan", "Bevin", "Bleddyn", "Bradwen", "Bradwr", "Brychan", "Bryn", "Bryne", "Brynmor", "Brys", "Bwlch", "Cadarn", "Cadawg", "Cadel", "Cadell", "Cadfael", "Cadman", "Cadog", "Cadwaladr", "Cadwallen", "Cadwgan", "Cadwgawn", "Cadwy", "CaerLlion", "Caerau", "Caerwyn", "Cai", "Caithe", "Caio", "Calcas", "Caledfwlch", "Camedyr", "Caradawg", "Caradoc", "Caradog", "Carian", "Caron", "Carwyn", "Caswallawn", "Cayo", "Cedrik", "Cedwyn", "Cefni", "Celyn", "Cennydd", "Cenwyn", "Ceredig", "Ceri", "Cled", "Cledwyn", "Cranog", "Crwys", "Custenhin", "Cybi", "Cymry", "Cynbel", "Cynedyr", "Cynog", "Cynychwr", "Dafydd", "Dai", "Darren", "Deiniol", "Delwin", "Delwyn", "Derec", "Derfel", "Deri", "Derwen", "Derwyn", "Dewey", "Dewi", "Dirrnyg", "Dremidydd", "Drystan", "Drywsone", "Dyfan", "Dyfed", "Dyfi", "Dyfri", "Dyfrug", "Dylan", "Dywel", "Edryd", "Edwyn", "Efrog", "Eifion", "Einian", "Eirwyn", "Elfyn", "Elgan", "Elgar", "Elis", "Elwyn", "Emhyr", "Emlyn", "Emrys", "Emyr", "Ergyriad", "Ermid", "Erwin", "Eryi", "Eudav", "Eurion", "Evrawg", "Fychan", "Garanhon", "Garanwyn", "Gareth", "Garnoc", "Garth", "Garwyli", "Gawain", "Geraint", "Gerallt", "Gerwyn", "Gethin", "Gilvaethwy", "Glanmor", "Glyn", "Glynn", "Goreu", "Goronwy", "Govannon", "Gowyr", "Griff", "Griffeth", "Griffith", "Gruddyeu", "Gruffin", "Gruffudd", "Gruffydd", "Grufudd", "Guto", "Gwalchmai", "Gwalchmei", "Gwallawg", "Gwallter", "Gwaun", "Gwawl", "Gwayne", "Gweir", "Gwenallt", "Gwent", "Gwenwynwyn", "Gwern", "Gwili", "Gwilym", "Gwion", "Gwres", "Gwri", "Gwydion", "Gwydyon", "Gwyn", "Gwyndaf", "Gwynfor", "Gwyngad", "Gwynlais", "Gwynn", "Harri", "Hedd", "Heddwyn", "Hefin", "Heilyn", "Heini", "Hopcyn", "Howel", "Huarwar", "Hueil", "Huw", "Huwcyn", "Hywel", "Iago", "Ianto", "Iau", "Iddawg", "Idris", "Idwal", "Iestyn", "Ieuan", "Ifan", "Ifor", "Ioan", "Iolo", "Iorath", "Iorwerth", "Iorweth", "Irfon", "Islwyn", "Iver", "Ivor", "Iwan", "Jac", "Jesstin", "Kenyon", "Kerwin", "Kerwyn", "Kyffin", "Kyledyr", "Kynwyl", "Lewys", "Llacheu", "Llassar", "Lleu", "Llew", "Llewellyn", "Llion", "Llwyd", "Llyr", "Llywelyn", "Luc", "Lyn", "Mabon", "Mabsant", "Macsen", "Maddock", "Madog", "Mael", "Maelgwyn", "Maelog", "Maelon", "Maelor", "Mal", "Maldwyn", "Marc", "Maredudd", "Martyn", "Medwyn", "Medyr", "Meic", "Meilir", "Meilyg", "Meilyr", "Meirion", "Mercher", "Meredith", "Meredudd", "Meredydd", "Merfyn", "Meridith", "Merion", "Merlin", "Mervyn", "Merwyn", "Meurig", "Mihangel", "Morcan", "Moren", "Morgan", "Morlais", "Morthwyl", "Morys", "Myrddin", "Myrddyn", "Neifion", "Nerthach", "Newyddilyn", "Niclas", "Ninian", "Nudd", "Ofydd", "Osian", "Oswallt", "Owain", "Owein", "Owen", "Owin", "Padrig", "Pawl", "Pedr", "Pennant", "Penvro", "Phylip", "Powell", "Preece", "Price", "Pryderi", "Prydwen", "Prys", "Reece", "Reese", "Rhain", "Rhion", "Rhisiart", "Rhobat", "Rhobert", "Rhodri", "Rhun", "Rhychdir", "Rhydian", "Rhydwyn", "Rhys", "Robat", "Rodric", "Saer", "Saith", "Samlet", "Sawel", "Seimon", "Seith", "Selwyn", "Seth", "Siams", "Siarl", "Siawn", "Sion", "Sioni", "Steffan", "Steffon", "Sulwyn", "Syvwlch", "Talfryn", "Taliesin", "Tecwyn", "Teifion", "Teilo", "Telor", "Terfel", "Tewdwr", "Tomi", "Tomos", "Trahaearn", "Trefor", "Tristan", "Tristram", "Tristyn", "Trystan", "Tudful", "Tudor", "Tudur", "Twm", "Twrgadarn", "Uchdryd", "Vaddon", "Watcyn", "Wil", "Wmffre", "Wyn", "Wynford", "Wynn", "Ynyr", "Ysberin", "Aberfa", "Addfwyn", "Aderyn", "Aelwen", "Aelwyd", "Aeres", "Aerona", "Aeronwen", "Alaw", "Alis", "Alwen", "Alwena", "Alys", "Amser", "Aneira", "Anest", "Angharad", "Anna", "Annest", "Anwen", "Anwyn", "Arglwyddes", "Arian", "Ariana", "Arianrhod", "Arianwen", "Artaith", "Arwen", "Arwydd", "Aures", "Awen", "Awsta", "Beca", "Begw", "Berthog", "Bethan", "Beti", "Betrys", "Betsan", "Blodeuwedd", "Blodwen", "Blodwyn", "Braith", "Brangwen", "Brangwy", "Branwen", "Branwenn", "Branwyn", "Brenda", "Briallen", "Bronwen", "Bronwyn", "Buddug", "Cadi", "Cadwyn", "Caitlyn", "Callwen", "Caniad", "Cari", "Caron", "Carwen", "Caryl", "Carys", "Catelyn", "Cati", "Catrin", "Ceinwen", "Ceirios", "Ceri", "Cerian", "Ceridwen", "Cerys", "Clwyd", "Cothi", "Cranogwen", "Creiddylad", "Cristyn", "Cymreiges", "Daere", "Dafina", "Delwen", "Delyth", "Derwen", "Deryn", "Difyr", "Dilys", "Dona", "Dwynwen", "Dwysil", "Ebrill", "Efa", "Eheubryd", "Eiddwen", "Eilian", "Eiluned", "Eilwen", "Eira", "Eirian", "Eiriana", "Eirianedd", "Eiriol", "Eirlys", "Eirwen", "Elain", "Elan", "Elen", "Elena", "Elenydd", "Eleri", "Elin", "Elinor", "Elliw", "Eluned", "Elwyn", "Eneuawg", "Enfys", "Enrhydreg", "Erdudvyl", "Erin", "Eryn", "Esyllt", "Eurneid", "Eurolwyn", "Eurwen", "Fanw", "Ffanci", "Ffion", "Fflur", "Ffraid", "Fioled", "Gaenor", "Garwen", "Gaynor", "Gladys", "Glain", "Glenda", "Glenys", "Glesni", "Glyn", "Glynis", "Glynnis", "Goewyn", "Grug", "Guinevere", "Gwaeddan", "Gwanwyn", "Gwawr", "Gwen", "Gwenabwy", "Gwenant", "Gwendolen", "Gwendoline", "Gwendolyn", "Gweneth", "Gwenfrewy", "Gwenifer", "Gwenith", "Gwenledyr", "Gwenllian", "Gwennalarch", "Gwennan", "Gwenyth", "Gwladys", "Gwlithen", "Gwylan", "Gwyn", "Gwynedd", "Gwynefa", "Gwynes", "Gwyneth", "Gwynn", "Haf", "Hafren", "Hafwen", "Heledd", "Heulwen", "Ifanna", "Ina", "Iola", "Iona", "Iorwen", "Irwen", "Isolde", "Jestine", "Leri", "Lili", "Liliwen", "Llian", "Llinos", "Llion", "Lona", "Lowri", "Luned", "Lyn", "Lyneth", "Lynn", "Lynne", "Mabli", "Mabyn", "Madlen", "Maegan", "Maeryn", "Mai", "Mair", "Mairead", "Mairwen", "Mali", "Mallt", "Manod", "Manon", "Maredudd", "Marged", "Margred", "Mari", "Mati", "Maygan", "Medi", "Megan", "Meggan", "Meinir", "Meinwen", "Meleri", "Men", "Meredydd", "Mererid", "Mona", "Morgaine", "Morgana", "Morgann", "Morvudd", "Morwen", "Morwenna", "Morwyn", "Myfanawy", "Myfanwy", "Myfi", "Nerys", "Nest", "Nesta", "Nia", "Non", "Olwen", "Olwenna", "Olwina", "Olwyn", "Olwyna", "Owena", "Penarddun", "Prydwen", "Rhedyn", "Rhiain", "Rhian", "Rhiannon", "Rhona", "Rhonwen", "Rhoslyn", "Rhoswen", "Saeth", "Sara", "Seirian", "Seren", "Sian", "Siani", "Siany", "Sioned", "Siriol", "Siwan", "Sulwyn", "Tagwen", "Tangwen", "Tanwen", "Tegan", "Tegwen", "Tegyd", "Teleri", "Telyn", "Terrwyn", "Tirion", "Tonwen", "Valmai", "Winnie", "Wyn", "Wynne", "Ysbail"],
    fs = require('fs'),
    axios = require('axios');
// 'https://en.wiktionary.org/w/api.php?action=query&format=json&titles='+name.toLowerCase()+'&origin=*'
const nameProms = rawNames.map(q => axios.get('https://api.genderize.io/?name=' + q.capCase()))
Promise.all(nameProms).then(r => {
    // console.log(r.map(q=>q.data.query.pages))
    console.log(r.map(q => q.data));
    const simpl = r.map(q => {
        let n = q.data;
        return {
            name: n.name,
            gender: n.gender == 'male' && n.probability > 0.75 ? 'male' : n.gender == 'female' && n.probability > 0.75 ? 'female' : null
        }
    })
    fs.writeFileSync('out.json', JSON.stringify(simpl), 'utf-8')
})